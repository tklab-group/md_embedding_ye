import matplotlib.pyplot as plt
import matplotlib.ticker as ticker
import numpy as np


if __name__ == '__main__':
    # tag
    # new
    # tarmaq_result[
    #     0.43066666666666664, 0.4093333333333333, 0.3875, 0.36416666666666664, 0.3451666666666667, 0.3055, 0.26116666666666666, 0.19866666666666666, 0.05466666666666667, 0.0]
    # cbow_result[
    #     0.43783333333333335, 0.41683333333333333, 0.3963333333333333, 0.3715, 0.348, 0.31183333333333335, 0.2673333333333333, 0.20033333333333334, 0.058499999999999996, 0.0]
    # subword_result[
    #     0.4046666666666667, 0.38316666666666666, 0.36533333333333334, 0.3433333333333333, 0.329, 0.312, 0.3015, 0.2755, 0.23666666666666666, 0.23833333333333334]
    # tag
    # old
    # tarmaq_result[
    #     0.6078333333333333, 0.619, 0.6513333333333333, 0.6738333333333333, 0.6753333333333333, 0.6685, 0.634, 0.6161666666666666, 0.584, 0.5828333333333333]
    # cbow_result[
    #     0.618, 0.6343333333333333, 0.665, 0.6953333333333334, 0.712, 0.7285, 0.7178333333333333, 0.7086666666666667, 0.697, 0.6965]
    # subword_result[
    #     0.589, 0.6175, 0.6511666666666667, 0.6718333333333333, 0.6859999999999999, 0.701, 0.6833333333333333, 0.6733333333333333, 0.6555, 0.655]
    # tag
    # low_freq
    # tarmaq_result[
    #     0.5915, 0.6045, 0.6276666666666666, 0.6556666666666666, 0.6706666666666666, 0.7158333333333333, 0.7666666666666666, 0.7848333333333333, 0.7835, 0.7555000000000001]
    # cbow_result[
    #     0.5983333333333334, 0.6105, 0.6323333333333333, 0.6613333333333333, 0.6778333333333333, 0.7276666666666667, 0.7758333333333334, 0.7945, 0.7946666666666666, 0.7716666666666667]
    # subword_result[
    #     0.5383333333333333, 0.5486666666666666, 0.569, 0.5988333333333333, 0.6151666666666666, 0.6635, 0.7041666666666666, 0.7168333333333333, 0.7063333333333334, 0.6726666666666666]
    data = {
        'new': {
            'tarmaq': [0.43066666666666664, 0.4093333333333333, 0.3875, 0.36416666666666664, 0.3451666666666667, 0.3055, 0.26116666666666666, 0.19866666666666666, 0.05466666666666667, 0.0],
            'cbow': [0.43783333333333335, 0.41683333333333333, 0.3963333333333333, 0.3715, 0.348, 0.31183333333333335, 0.2673333333333333, 0.20033333333333334, 0.058499999999999996, 0.0],
            'subword': [0.4046666666666667, 0.38316666666666666, 0.36533333333333334, 0.3433333333333333, 0.329, 0.312, 0.3015, 0.2755, 0.23666666666666666, 0.23833333333333334]
        },
        'old': {
            'tarmaq': [0.6078333333333333, 0.619, 0.6513333333333333, 0.6738333333333333, 0.6753333333333333, 0.6685, 0.634, 0.6161666666666666, 0.584, 0.5828333333333333],
            'cbow': [0.618, 0.6343333333333333, 0.665, 0.6953333333333334, 0.712, 0.7285, 0.7178333333333333, 0.7086666666666667, 0.697, 0.6965],
            'subword': [0.589, 0.6175, 0.6511666666666667, 0.6718333333333333, 0.6859999999999999, 0.701, 0.6833333333333333, 0.6733333333333333, 0.6555, 0.655]
        },
        'low_freq': {
            'tarmaq': [0.5915, 0.6045, 0.6276666666666666, 0.6556666666666666, 0.6706666666666666, 0.7158333333333333, 0.7666666666666666, 0.7848333333333333, 0.7835, 0.7555000000000001],
            'cbow': [0.5983333333333334, 0.6105, 0.6323333333333333, 0.6613333333333333, 0.6778333333333333, 0.7276666666666667, 0.7758333333333334, 0.7945, 0.7946666666666666, 0.7716666666666667],
            'subword': [0.5383333333333333, 0.5486666666666666, 0.569, 0.5988333333333333, 0.6151666666666666, 0.6635, 0.7041666666666666, 0.7168333333333333, 0.7063333333333334, 0.6726666666666666]
        },
    }
    labels = [0.1, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]
    tag = 'new'
    # 设置画布大小
    # plt.figure(figsize=(20, 4))

    # tick_spacing = 4
    fig, ax = plt.subplots(1, 1)
    # ax.xaxis.set_major_locator(ticker.MaxNLocator(tick_spacing))

    # 标题
    # plt.title("title")
    # 横坐标描述
    # plt.xlabel('top-k')
    # 纵坐标描述
    plt.ylabel('micro recall@k')

    # 这里设置线宽、线型、线条颜色、点大小等参数
    ax.plot(labels, data[tag]['tarmaq'], label='Association rule mining')
    ax.plot(labels, data[tag]['cbow'], label='CBOW model')
    ax.plot(labels, data[tag]['subword'], label='Subword model')
    # 每个数据点加标签
    # for a, b in zip(x, z):
    #     plt.text(a, b, str(b) + '%', ha='center', va='bottom', fontsize=12)
    # 只给最后一个点加标签
    # plt.text(x[-1], y[-1], y[-1], ha='center', va='bottom', fontsize=15)

    # 旋转x轴标签
    # for label in ax.get_xticklabels():
    #     label.set_rotation(30)  # 旋转30度
    #     label.set_horizontalalignment('right')  # 向右旋转

    # 图例显示及位置确定
    plt.legend(loc='upper left')
    plt.show()
